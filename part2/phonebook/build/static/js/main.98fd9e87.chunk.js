(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{37:function(e,n,t){"use strict";t.r(n);var c=t(0),r=t(1),a=t(14),u=t.n(a),s=t(3),i=function(e){var n=e.newSearch,t=e.handleSearch;return Object(c.jsxs)("p",{children:["Filter shown with ",Object(c.jsx)("input",{onChange:t,value:n})]})},o=function(e){var n=e.persons,t=e.newSearch,r=e.handleDelete;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h2",{children:"Numbers"}),n?n.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())})).map((function(e){return Object(c.jsxs)("p",{children:[e.name," ",e.number,Object(c.jsx)("button",{onClick:r,name:e.name,children:"delete"})]})})):Object(c.jsx)("p",{children:"chachacha"})]})},j=function(e){var n=e.addName,t=e.handleName,r=e.newName,a=e.handleNewNum,u=e.newNum;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h2",{children:"Add a new name"}),Object(c.jsxs)("form",{onSubmit:n,children:[Object(c.jsxs)("div",{children:["name: ",Object(c.jsx)("input",{onChange:t,value:r})]}),Object(c.jsxs)("div",{children:["number: ",Object(c.jsx)("input",{onChange:a,value:u})]}),Object(c.jsx)("div",{children:Object(c.jsx)("button",{type:"submit",onSubmit:n,children:"add"})})]})]})},d=t(4),h=t.n(d),l="persons",b=function(e){return h.a.post(l,e)},m=function(){return h.a.get(l)},O=function(e){return h.a.delete("/persons/".concat(e))},f=function(e){var n=e.persons;return Object(c.jsx)("div",{style:{display:"flex","align-items":"center",color:"green",border:"2px solid green","border-radius":"5px",width:"40%",height:"50px"},children:Object(c.jsx)("h3",{children:n.length>0?" Added ".concat(n[n.length-1].name):null})})},x=function(){var e=Object(r.useState)([]),n=Object(s.a)(e,2),t=n[0],a=n[1],u=Object(r.useState)(""),d=Object(s.a)(u,2),h=d[0],l=d[1],x=Object(r.useState)(""),p=Object(s.a)(x,2),g=p[0],v=p[1],w=Object(r.useState)(""),N=Object(s.a)(w,2),S=N[0],k=N[1],C=Object(r.useState)(!1),y=Object(s.a)(C,2),A=y[0],D=y[1];return Object(r.useEffect)((function(){m().then((function(e){a(e.data)}))}),[]),Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{children:"Phonebook"}),A?Object(c.jsx)(f,{persons:t}):null,Object(c.jsx)(i,{handleSearch:function(e){k(e.target.value)},newSearch:S}),Object(c.jsx)(j,{addName:function(e){e.preventDefault();t.some((function(e){return e.name==h}));b({name:h,number:g}).then((function(e){a(t.concat(e.data)),l(""),v("")})),D(!0),setTimeout((function(){return D(!1)}),2e3)},handleName:function(e){l(e.target.value)},newName:h,handleNewNum:function(e){v(e.target.value)},newNum:g}),Object(c.jsx)(o,{persons:t,newSearch:S,handleDelete:function(e){var n=e.target.getAttribute("name"),c=t.find((function(e){return e.name==n}));console.log(c.id),O(c.id).then((function(){return m().then((function(e){return a(e.data)}))}))}})]})};u.a.render(Object(c.jsx)(x,{}),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.98fd9e87.chunk.js.map